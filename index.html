–†–æ–º–∞ webpay monitoring, [2/20/26 12:38‚ÄØAM]
<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>SRE Ultimate Console</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        :root {
            --tg-bg: var(--tg-theme-bg-color, #0f172a);
            --tg-card: var(--tg-theme-secondary-bg-color, #1e293b);
            --tg-text: var(--tg-theme-text-color, #f8fafc);
            --tg-hint: var(--tg-theme-hint-color, #94a3b8);
            --accent: #38bdf8;
            --crit: #ef4444;
            --warn: #f59e0b;
            --success: #10b981;
        }

        body {
            font-family: 'Inter', -apple-system, sans-serif;
            background-color: var(--tg-bg);
            color: var(--tg-text);
            margin: 0; padding: 0;
            line-height: 1.5;
        }

        /* –ö—Ä–∞—Å–∏–≤–∞—è —à–∞–ø–∫–∞ */
        .header {
            padding: 20px 16px;
            background: linear-gradient(180deg, rgba(0,0,0,0.2) 0%, transparent 100%);
        }

        .status-badge {
            display: inline-flex;
            align-items: center;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            background: rgba(16, 185, 129, 0.1);
            color: var(--success);
            margin-bottom: 8px;
        }

        .status-dot {
            width: 8px; height: 8px;
            background: var(--success);
            border-radius: 50%;
            margin-right: 8px;
            box-shadow: 0 0 10px var(--success);
        }

        /* –ö–∞—Ä—Ç–æ—á–∫–∏ */
        .container { padding: 0 16px 100px; }
        
        .alert-card {
            background: var(--tg-card);
            border-radius: 16px;
            padding: 16px;
            margin-bottom: 16px;
            border: 1px solid rgba(255,255,255,0.05);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
            transition: transform 0.2s;
        }

        .alert-card:active { transform: scale(0.98); }

        .card-top {
            display: flex; justify-content: space-between;
            align-items: flex-start; margin-bottom: 12px;
        }

        .severity {
            font-size: 10px; text-transform: uppercase;
            letter-spacing: 1px; font-weight: 800;
            padding: 2px 8px; border-radius: 4px;
        }

        .sev-crit { background: rgba(239, 68, 68, 0.1); color: var(--crit); }
        .sev-warn { background: rgba(245, 158, 11, 0.1); color: var(--warn); }

        .service-title { font-size: 17px; font-weight: 700; display: block; }
        .alert-msg { color: var(--tg-hint); font-size: 14px; margin-top: 4px; }

        /* –ö–Ω–æ–ø–∫–∏ */
        .btn-grid {
            display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-top: 16px;
        }

        .btn {
            background: rgba(255,255,255,0.05);
            border: 1px solid rgba(255,255,255,0.1);
            color: var(--tg-text);
            padding: 10px; border-radius: 10px;
            font-size: 13px; font-weight: 600;
            display: flex; align-items: center; justify-content: center; gap: 6px;
        }

        .btn-primary { background: var(--accent); color: #000; border: none; }

        /* –ö–∞—Å—Ç–æ–º–Ω—ã–π —Ç–µ—Ä–º–∏–Ω–∞–ª –¥–ª—è –ª–æ–≥–æ–≤ */
        #log-modal {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: #000; z-index: 100;
            display: none; flex-direction: column;
        }

        .log-header {
            padding: 16px; background: #111;
            display: flex; justify-content: space-between; border-bottom: 1px solid #222;
        }

        .log-content {
            padding: 16px; font-family: 'Fira Code', monospace;
            font-size: 11px; overflow-y: auto; color: #a1a1aa;
        }

–†–æ–º–∞ webpay monitoring, [2/20/26 12:38‚ÄØAM]
.log-line { margin-bottom: 4px; border-left: 2px solid #333; padding-left: 8px; }
        .log-err { color: #fb7185; }
        .log-time { color: #52525b; margin-right: 8px; }
    </style>
</head>
<body>

    <div class="header">
        <div class="status-badge">
            <div class="status-dot"></div> –°–∏—Å—Ç–µ–º–∞ –≤ –Ω–æ—Ä–º–µ
        </div>
        <h1 style="margin:0; font-size: 24px;">–û–±–∑–æ—Ä –∞–ª–µ—Ä—Ç–æ–≤</h1>
    </div>

    <div class="container">
        <div class="alert-card">
            <div class="card-top">
                <div>
                    <span class="service-title">PostgreSQL Cluster</span>
                    <span class="alert-msg">–°–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –æ—Ç–∫—Ä—ã—Ç—ã—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π</span>
                </div>
                <span class="severity sev-crit">Critical</span>
            </div>
            <div style="font-size: 12px; color: var(--tg-hint);">Host: db-prod-01 | Connections: 482/500</div>
            <div class="btn-grid">
                <button class="btn btn-primary" onclick="handleAck(this)">–í —Ä–∞–±–æ—Ç—É</button>
                <button class="btn" onclick="showLogs('DB-CLUSTER')">üîç –õ–æ–≥–∏</button>
            </div>
        </div>

        <div class="alert-card">
            <div class="card-top">
                <div>
                    <span class="service-title">Redis Cache</span>
                    <span class="alert-msg">Latency –≤—ã—à–µ 200ms</span>
                </div>
                <span class="severity sev-warn">Warning</span>
            </div>
            <div class="btn-grid">
                <button class="btn btn-primary" onclick="handleAck(this)">–í —Ä–∞–±–æ—Ç—É</button>
                <button class="btn" onclick="showLogs('REDIS')">üîç –õ–æ–≥–∏</button>
            </div>
        </div>
    </div>

    <div id="log-modal">
        <div class="log-header">
            <span id="log-title" style="font-weight:bold;">LOGS_VIEWER</span>
            <button onclick="closeLogs()" style="background:none; border:none; color:var(--accent); font-weight:bold;">–ó–ê–ö–†–´–¢–¨</button>
        </div>
        <div class="log-content" id="log-body">
            </div>
    </div>

    <script>
        const tg = window.Telegram.WebApp;
        tg.expand();

        function handleAck(btn) {
            tg.HapticFeedback.notificationOccurred('success');
            btn.innerHTML = "‚úÖ –í–∑—è—Ç";
            btn.style.background = "rgba(16, 185, 129, 0.2)";
            btn.style.color = "#10b981";
            btn.disabled = true;
        }

        function showLogs(service) {
            tg.HapticFeedback.impactOccurred('medium');
            const modal = document.getElementById('log-modal');
            const body = document.getElementById('log-body');
            document.getElementById('log-title').innerText = TERMINAL: ${service};
            
            // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º "–∫—Ä–∞—Å–∏–≤—ã–µ" –ª–æ–≥–∏
            const types = ['INFO', 'DEBUG', 'ERROR', 'WARN'];
            const msgs = [
                'Connection accepted from 10.0.1.54:5432',
                'Executing query: SELECT * FROM sessions WHERE expires < NOW()',
                'Worker process 4522 exited with code 0',
                'Slow query detected: 2450ms path="/api/v1/user"',
                'Failed to authenticate user "guest" - invalid token',
                'Memory usage spiked to 94% on virtual_memory_manager'
            ];

            let html = '';
            for(let i=0; i<20; i++) {
                const type = types[Math.floor(Math.random()*types.length)];
                const msg = msgs[Math.floor(Math.random()*msgs.length)];
                const time = new Date().toISOString().split('T')[1].split('.')[0];
                html += 
                    <div class="log-line">
                        <span class="log-time">[${time}]</span>
                        <span class="${type === 'ERROR' ? 'log-err' : ''}">[${type}] ${msg}</span>
                    </div>;
            }

            body.innerHTML = html;
            modal.style.display = 'flex';
        }

–†–æ–º–∞ webpay monitoring, [2/20/26 12:38‚ÄØAM]
function closeLogs() {
            document.getElementById('log-modal').style.display = 'none';
        }
    </script>
</body>
</html>
